package com;

import java.awt.EventQueue;
import java.util.Date;
import java.text.SimpleDateFormat;
import javax.swing.Timer;
import javax.swing.JFrame;
import javax.swing.JPanel;
import javax.swing.border.EmptyBorder;
import javax.swing.JLabel;
import java.awt.Font;
import javax.swing.JCheckBox;
import java.awt.Color;
import javax.swing.JTable;
import javax.swing.JScrollPane;
import javax.swing.JToggleButton;
import javax.swing.JComboBox;
import javax.swing.JTextArea;
import javax.swing.JSpinner;
import javax.swing.JScrollBar;
import javax.swing.JProgressBar;
import javax.swing.JSlider;
import javax.swing.JTextField;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.print.PrinterException;

public class Uitest extends JFrame {

	private static final long serialVersionUID = 1L;
	private JPanel JPanel;
	private Timer timer;
	private SimpleDateFormat dateFormat;
	private JTextField name;
	private JTextField bail;
	private JTextField thailand;
	private JTextField malaysia;

	
	
	/**
	 * Launch the application.
	 */
	public static void main(String[] args) {
		
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					Uitest frame = new Uitest();
					frame.setVisible(true);
				} catch (Exception e) {
					e.printStackTrace();
				}
				
			}
		});
	}

	/**
	 * Create the frame.
	 */
	public Uitest() {
		setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		setBounds(100, 100, 626, 392);
		JPanel = new JPanel();
		JPanel.setBorder(new EmptyBorder(5, 5, 5, 5));
		setContentPane(JPanel);
		JPanel.setLayout(null);
		
		JLabel lblNewLabel = new JLabel("快樂旅行社");
		lblNewLabel.setBounds(237, 0, 109, 37);
		lblNewLabel.setFont(new Font("微軟正黑體", Font.PLAIN, 20));
		JPanel.add(lblNewLabel);
		
		JPanel panel = new JPanel();
		panel.setBounds(22, 71, 185, 249);
		panel.setBackground(new Color(255, 255, 128));
		JPanel.add(panel);
		panel.setLayout(null);
		
		JLabel lblNewLabel_1 = new JLabel("東南亞旅遊");
		lblNewLabel_1.setFont(new Font("微軟正黑體", Font.PLAIN, 14));
		lblNewLabel_1.setBounds(54, 10, 81, 14);
		panel.add(lblNewLabel_1);
		
		JLabel lblNewLabel_4 = new JLabel("峇里島      19999元");
		lblNewLabel_4.setFont(new Font("微軟正黑體", Font.PLAIN, 14));
		lblNewLabel_4.setBounds(10, 50, 125, 19);
		panel.add(lblNewLabel_4);
		
		JLabel lblNewLabel_5 = new JLabel("泰 國        15444元");
		lblNewLabel_5.setFont(new Font("微軟正黑體", Font.PLAIN, 14));
		lblNewLabel_5.setBounds(10, 89, 125, 22);
		panel.add(lblNewLabel_5);
		
		JLabel lblNewLabel_6 = new JLabel("馬來西亞  26666元");
		lblNewLabel_6.setFont(new Font("微軟正黑體", Font.PLAIN, 14));
		lblNewLabel_6.setBounds(10, 131, 126, 17);
		panel.add(lblNewLabel_6);
		
		JCheckBox member = new JCheckBox("會員");
		member.setBounds(42, 203, 62, 22);
		panel.add(member);
		
		bail = new JTextField();
		bail.setColumns(10);
		bail.setBounds(138, 52, 37, 20);
		panel.add(bail);
		
		thailand = new JTextField();
		thailand.setColumns(10);
		thailand.setBounds(138, 93, 37, 20);
		panel.add(thailand);
		
		malaysia = new JTextField();
		malaysia.setColumns(10);
		malaysia.setBounds(138, 132, 37, 20);
		panel.add(malaysia);
		
		JLabel lblNewLabel_2 = new JLabel("姓名：");
		lblNewLabel_2.setBounds(22, 35, 48, 26);
		lblNewLabel_2.setFont(new Font("微軟正黑體", Font.PLAIN, 14));
		JPanel.add(lblNewLabel_2);
		
		name = new JTextField();
		name.setBounds(80, 41, 96, 20);
		JPanel.add(name);
		name.setColumns(10);
		
		JPanel panel_1 = new JPanel();
		panel_1.setBounds(388, 35, 214, 297);
		panel_1.setBackground(new Color(255, 255, 128));
		JPanel.add(panel_1);
		panel_1.setLayout(null);
		
		JTextArea Output = new JTextArea();
		Output.setBounds(10, 25, 194, 262);
		panel_1.add(Output);
		
		JLabel lblNewLabel_3 = new JLabel("訂單明細");
		lblNewLabel_3.setFont(new Font("微軟正黑體", Font.PLAIN, 16));
		lblNewLabel_3.setBackground(Color.WHITE);
		lblNewLabel_3.setBounds(68, 0, 64, 23);
		panel_1.add(lblNewLabel_3);
		
		JLabel Time = new JLabel("");
		Time.setBounds(10, 7, 184, 30);
		JPanel.add(Time);
		Timer timer=new Timer(1000,new ActionListener() {
			public void actionPerformed(ActionEvent e) {
				String time=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date());
				Time.setText("目前時間:"+time);
			}
		});
		timer.start();
		
		
	    //*********events******************
	    //確認
		JButton btnNewButton = new JButton("確認");
		btnNewButton.addMouseListener(new MouseAdapter() {
			public void mouseClicked(MouseEvent e) {
				String Name=name.getText();
				String Bail=bail.getText();
				String Thailand=thailand.getText();
				String Malaysia=malaysia.getText();
				
				try {
				    int BAIL = Integer.parseInt(Bail);
				    int THAILAND = Integer.parseInt(Thailand);
				    int MALAYSIA = Integer.parseInt(Malaysia);
				} catch (NumberFormatException ex) {
				    Output.setText("請輸入正確的數字");
				    return;
				}
				
				int BAIL=Integer.parseInt(Bail);
				int THAILAND=Integer.parseInt(Thailand);
				int MALAYSIA=Integer.parseInt(Malaysia);
				
				if(BAIL>=0&&THAILAND>=0&&MALAYSIA>=0)
				{
					Travel o=new Travel(Name,BAIL,THAILAND,MALAYSIA,member.isSelected());
					Output.setText("姓名="+o.getName()+
				"\n峇里島="+o.getBail()+"位"+
				"\n泰國="+o.getThailand()+"位"+
				"\n馬來西亞="+o.getMalaysia()+"位"+
				"\n總額="+o.getSum()+"元"+
				"\n會員="+o.isMember());
				}
				else
				{
				  Output.setText("bail,thailand,malaysia數量需大於等於0");	
				}
			}
		});
		btnNewButton.setBounds(215, 268, 69, 22);
		JPanel.add(btnNewButton);
		
		//清除
		JButton btnClear = new JButton("清除");
				btnClear.addActionListener(e1->{
					bail.setText("0");
					thailand.setText("0");
					malaysia.setText("0");
					Output.setText("");
					member.setSelected(false);
					
			
		});
		btnClear.setBounds(294, 268, 69, 22);
		JPanel.add(btnClear);
		
		//列印
		JButton btnPrint = new JButton("列印");
		btnPrint.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				try 
				{
					Output.print();
				}
				catch(PrinterException e1)
				{
					e1.printStackTrace();
				}
			}
		});
		btnPrint.addActionListener(new ActionListener() {
			public void actionPerformed(ActionEvent e) {
			}
		});
		btnPrint.setBounds(217, 300, 69, 22);
		JPanel.add(btnPrint);
		
		//關閉
		JButton btnClose = new JButton("關閉");
		btnClose.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				System.exit(0);
			}
		});
		btnClose.setBounds(294, 300, 69, 22);
		JPanel.add(btnClose);
		
	}
}

}




